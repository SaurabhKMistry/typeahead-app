{"ast":null,"code":"var _jsxFileName = \"/Users/crao/Documents/Work/Codebase/osr/typeahead-react-spring-boot/typeahead-react/src/typeahead/TypeAheadDropDown.js\";\n// TypeAheadDropDown.js\nimport '../index.css';\nimport React from 'react';\nexport default class TypeAheadDropDown extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onTextChange = e => {\n      let suggestions = [];\n      const value = e.target.value;\n\n      if (value.length > 0) {\n        if (value.includes(\"%\")) {\n          value = value.replace(/[\\u00A0\\u1680​\\u180e\\u2000-\\u2009\\u200a​\\u200b​\\u202f\\u205f​\\u3000]/g, '');\n          console.log(value);\n        }\n      }\n\n      if (value.length > 0) {\n        fetch(\"http://localhost:8080/typeahead?prefix=\" + value + \"&suggestionCount=10\").then(res => res.json()).then(result => {\n          this.setState({\n            suggestions: result,\n            text: value\n          });\n        }, error => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        });\n      }\n\n      this.setState(() => ({\n        suggestions,\n        text: value\n      }));\n    };\n\n    this.suggestionSelected = value => {\n      this.setState(() => ({\n        text: value,\n        suggestions: []\n      }));\n    };\n\n    this.renderSuggestions = () => {\n      const {\n        suggestions\n      } = this.state;\n\n      if (suggestions.length === 0) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }\n      }, suggestions.map(suggestion => /*#__PURE__*/React.createElement(\"li\", {\n        key: suggestion,\n        onClick: e => this.suggestionSelected(suggestion),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 39\n        }\n      }, suggestion)));\n    };\n\n    this.state = {\n      suggestions: [],\n      text: ''\n    };\n  }\n\n  render() {\n    const {\n      text\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"TypeAheadDropDown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onTextChange,\n      placeholder: \"\",\n      value: text,\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 6\n      }\n    }), this.renderSuggestions());\n  }\n\n}","map":{"version":3,"sources":["/Users/crao/Documents/Work/Codebase/osr/typeahead-react-spring-boot/typeahead-react/src/typeahead/TypeAheadDropDown.js"],"names":["React","TypeAheadDropDown","Component","constructor","props","onTextChange","e","suggestions","value","target","length","includes","replace","console","log","fetch","then","res","json","result","setState","text","error","isLoaded","suggestionSelected","renderSuggestions","state","map","suggestion","render"],"mappings":";AAAA;AACA,OAAO,cAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,eAAe,MAAMC,iBAAN,SAAgCD,KAAK,CAACE,SAAtC,CAAgD;AAC9DC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAQnBC,YARmB,GAQHC,CAAD,IAAO;AACpB,UAAIC,WAAW,GAAG,EAAlB;AACA,YAAMC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASD,KAAvB;;AACA,UAAGA,KAAK,CAACE,MAAN,GAAe,CAAlB,EAAqB;AACpB,YAAGF,KAAK,CAACG,QAAN,CAAe,GAAf,CAAH,EAAwB;AACtBH,UAAAA,KAAK,GAAEA,KAAK,CAACI,OAAN,CAAc,sEAAd,EAAqF,EAArF,CAAP;AAECC,UAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AAEF;AACD;;AACD,UAAIA,KAAK,CAACE,MAAN,GAAe,CAAnB,EAAsB;AACnBK,QAAAA,KAAK,CAAC,4CAA4CP,KAA5C,GAAoD,qBAArD,CAAL,CACCQ,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAGGG,MAAD,IAAY;AACV,eAAKC,QAAL,CAAc;AACZb,YAAAA,WAAW,EAAEY,MADD;AAEZE,YAAAA,IAAI,EAACb;AAFO,WAAd;AAID,SARH,EAUGc,KAAD,IAAW;AACT,eAAKF,QAAL,CAAc;AACZG,YAAAA,QAAQ,EAAE,IADE;AAEZD,YAAAA;AAFY,WAAd;AAID,SAfH;AAiBF;;AAEA,WAAKF,QAAL,CAAc,OAAO;AACnBb,QAAAA,WADmB;AAEnBc,QAAAA,IAAI,EAACb;AAFc,OAAP,CAAd;AAIF,KA3CkB;;AAAA,SA6CnBgB,kBA7CmB,GA6CChB,KAAD,IAAS;AAC1B,WAAKY,QAAL,CAAc,OAAK;AACjBC,QAAAA,IAAI,EAACb,KADY;AAEjBD,QAAAA,WAAW,EAAC;AAFK,OAAL,CAAd;AAID,KAlDkB;;AAAA,SAoDnBkB,iBApDmB,GAoDC,MAAM;AACxB,YAAM;AAAElB,QAAAA;AAAF,UAAkB,KAAKmB,KAA7B;;AACA,UAAInB,WAAW,CAACG,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,eAAO,IAAP;AACD;;AACD,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGH,WAAW,CAACoB,GAAZ,CAAgBC,UAAU,iBAAI;AAAI,QAAA,GAAG,EAAEA,UAAT;AAAqB,QAAA,OAAO,EAAGtB,CAAD,IAAK,KAAKkB,kBAAL,CAAwBI,UAAxB,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyEA,UAAzE,CAA9B,CADH,CADF;AAKD,KA9DkB;;AAEjB,SAAKF,KAAL,GAAa;AACXnB,MAAAA,WAAW,EAAE,EADF;AAEXc,MAAAA,IAAI,EAAC;AAFM,KAAb;AAID;;AA2DDQ,EAAAA,MAAM,GAAG;AACP,UAAM;AAACR,MAAAA;AAAD,QAAO,KAAKK,KAAlB;AACA,wBACA;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,QAAQ,EAAE,KAAKrB,YAAtB;AAAoC,MAAA,WAAW,EAAC,EAAhD;AAAmD,MAAA,KAAK,EAAEgB,IAA1D;AAAgE,MAAA,IAAI,EAAC,MAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEG,KAAKI,iBAAL,EAFH,CADA;AAMD;;AA1E6D","sourcesContent":["// TypeAheadDropDown.js\nimport '../index.css'\nimport React from 'react';\n\n\nexport default class TypeAheadDropDown extends React.Component {\n constructor(props) {\n   super(props);\n   this.state = {\n     suggestions: [],\n     text:''\n   }\n }\n \n onTextChange = (e) => {\n   let suggestions = [];\n   const value = e.target.value;\n   if(value.length > 0) {\n    if(value.includes(\"%\")) {\n      value= value.replace(/[\\u00A0\\u1680​\\u180e\\u2000-\\u2009\\u200a​\\u200b​\\u202f\\u205f​\\u3000]/g,'')\n\n       console.log(value);\n\n    }\n   }\n   if (value.length > 0) {\n      fetch(\"http://localhost:8080/typeahead?prefix=\" + value + \"&suggestionCount=10\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            suggestions: result,\n            text:value\n          });\n        },\n\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n   }\n\n    this.setState(() => ({\n      suggestions,\n      text:value\n    }));\n }\n \n suggestionSelected=(value)=>{\n   this.setState(()=>({\n     text:value,\n     suggestions:[]\n   }))\n }\n \n renderSuggestions = () => {\n   const { suggestions } = this.state;\n   if (suggestions.length === 0) {\n     return null;\n   }\n   return (\n     <ul>\n       {suggestions.map(suggestion => <li key={suggestion} onClick={(e)=>this.suggestionSelected(suggestion)}>{suggestion}</li>)}\n     </ul>\n   )\n }\n \n \n render() {\n   const {text}=this.state\n   return (\n   <div className=\"TypeAheadDropDown\">\n     <input onChange={this.onTextChange} placeholder=\"\" value={text} type=\"text\" />\n     {this.renderSuggestions()}\n   </div>\n   );\n }\n \n}"]},"metadata":{},"sourceType":"module"}