{"ast":null,"code":"var _jsxFileName = \"/Users/crao/Documents/Work/Codebase/osr/typeahead-react-spring-boot/typeahead-react/src/typeahead/TypeAheadDropDown.js\";\n// TypeAheadDropDown.js\nimport '../index.css';\nimport React from 'react';\nexport default class TypeAheadDropDown extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onTextChange = e => {\n      let suggestions = [];\n      const value = e.target.value;\n\n      if (value.length > 0) {\n        fetch(\"http://localhost:8080/typeahead?prefix=\" + value + \"&suggestionCount=15\").then(res => res.json()).then(result => {\n          this.setState({\n            suggestions: result,\n            text: value\n          });\n        }, error => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        });\n      }\n\n      this.setState(() => ({\n        suggestions,\n        text: value\n      }));\n    };\n\n    this.suggestionSelected = value => {\n      this.setState(() => ({\n        text: value,\n        suggestions: []\n      }));\n    };\n\n    this.renderSuggestions = () => {\n      const {\n        suggestions\n      } = this.state;\n\n      if (suggestions.length === 0) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }\n      }, suggestions.map(suggestion => /*#__PURE__*/React.createElement(\"li\", {\n        key: suggestion,\n        onClick: e => this.suggestionSelected(suggestion),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 39\n        }\n      }, suggestion)));\n    };\n\n    this.state = {\n      suggestions: [],\n      text: ''\n    };\n  }\n\n  render() {\n    const {\n      text\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"TypeAheadDropDown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onTextChange,\n      placeholder: \"Start typing word...\",\n      value: text,\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }\n    }), this.renderSuggestions());\n  }\n\n}","map":{"version":3,"sources":["/Users/crao/Documents/Work/Codebase/osr/typeahead-react-spring-boot/typeahead-react/src/typeahead/TypeAheadDropDown.js"],"names":["React","TypeAheadDropDown","Component","constructor","props","onTextChange","e","suggestions","value","target","length","fetch","then","res","json","result","setState","text","error","isLoaded","suggestionSelected","renderSuggestions","state","map","suggestion","render"],"mappings":";AAAA;AACA,OAAO,cAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,iBAAN,SAAgCD,KAAK,CAACE,SAAtC,CAAgD;AAC9DC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAQnBC,YARmB,GAQHC,CAAD,IAAO;AACpB,UAAIC,WAAW,GAAG,EAAlB;AACA,YAAMC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASD,KAAvB;;AACA,UAAIA,KAAK,CAACE,MAAN,GAAe,CAAnB,EAAsB;AACnBC,QAAAA,KAAK,CAAC,4CAA4CH,KAA5C,GAAoD,qBAArD,CAAL,CACCI,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAGGG,MAAD,IAAY;AACV,eAAKC,QAAL,CAAc;AACZT,YAAAA,WAAW,EAAEQ,MADD;AAEZE,YAAAA,IAAI,EAACT;AAFO,WAAd;AAID,SARH,EAUGU,KAAD,IAAW;AACT,eAAKF,QAAL,CAAc;AACZG,YAAAA,QAAQ,EAAE,IADE;AAEZD,YAAAA;AAFY,WAAd;AAID,SAfH;AAiBF;;AAEA,WAAKF,QAAL,CAAc,OAAO;AACnBT,QAAAA,WADmB;AAEnBU,QAAAA,IAAI,EAACT;AAFc,OAAP,CAAd;AAIF,KAnCkB;;AAAA,SAqCnBY,kBArCmB,GAqCCZ,KAAD,IAAS;AAC1B,WAAKQ,QAAL,CAAc,OAAK;AACjBC,QAAAA,IAAI,EAACT,KADY;AAEjBD,QAAAA,WAAW,EAAC;AAFK,OAAL,CAAd;AAID,KA1CkB;;AAAA,SA4CnBc,iBA5CmB,GA4CC,MAAM;AACxB,YAAM;AAAEd,QAAAA;AAAF,UAAkB,KAAKe,KAA7B;;AACA,UAAIf,WAAW,CAACG,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,eAAO,IAAP;AACD;;AACD,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGH,WAAW,CAACgB,GAAZ,CAAgBC,UAAU,iBAAI;AAAI,QAAA,GAAG,EAAEA,UAAT;AAAqB,QAAA,OAAO,EAAGlB,CAAD,IAAK,KAAKc,kBAAL,CAAwBI,UAAxB,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyEA,UAAzE,CAA9B,CADH,CADF;AAKD,KAtDkB;;AAEjB,SAAKF,KAAL,GAAa;AACXf,MAAAA,WAAW,EAAE,EADF;AAEXU,MAAAA,IAAI,EAAC;AAFM,KAAb;AAID;;AAmDDQ,EAAAA,MAAM,GAAG;AACP,UAAM;AAACR,MAAAA;AAAD,QAAO,KAAKK,KAAlB;AACA,wBACA;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,QAAQ,EAAE,KAAKjB,YAAtB;AAAoC,MAAA,WAAW,EAAC,sBAAhD;AAAuE,MAAA,KAAK,EAAEY,IAA9E;AAAoF,MAAA,IAAI,EAAC,MAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEG,KAAKI,iBAAL,EAFH,CADA;AAMD;;AAlE6D","sourcesContent":["// TypeAheadDropDown.js\nimport '../index.css'\nimport React from 'react';\n\nexport default class TypeAheadDropDown extends React.Component {\n constructor(props) {\n   super(props);\n   this.state = {\n     suggestions: [],\n     text:''\n   }\n }\n \n onTextChange = (e) => {\n   let suggestions = [];\n   const value = e.target.value;\n   if (value.length > 0) {\n      fetch(\"http://localhost:8080/typeahead?prefix=\" + value + \"&suggestionCount=15\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            suggestions: result,\n            text:value\n          });\n        },\n\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n   }\n\n    this.setState(() => ({\n      suggestions,\n      text:value\n    }));\n }\n \n suggestionSelected=(value)=>{\n   this.setState(()=>({\n     text:value,\n     suggestions:[]\n   }))\n }\n \n renderSuggestions = () => {\n   const { suggestions } = this.state;\n   if (suggestions.length === 0) {\n     return null;\n   }\n   return (\n     <ul>\n       {suggestions.map(suggestion => <li key={suggestion} onClick={(e)=>this.suggestionSelected(suggestion)}>{suggestion}</li>)}\n     </ul>\n   )\n }\n \n \n render() {\n   const {text}=this.state\n   return (\n   <div className=\"TypeAheadDropDown\">\n     <input onChange={this.onTextChange} placeholder=\"Start typing word...\" value={text} type=\"text\" />\n     {this.renderSuggestions()}\n   </div>\n   );\n }\n \n}"]},"metadata":{},"sourceType":"module"}